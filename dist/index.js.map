{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios, { Axios } from 'axios';\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '51947896-8b6dd47fcc424a89819094ddf',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n  }\n});\n\nexport function getImagesByQuery(query){\n    \n    return axiosInstance.get('', {\n        params: {q: query}\n    }).then(response => response.data.hits)\n}","import SimpleLightbox from \"simplelightbox\";\n\nlet lightboxInstance;\n\nexport function createGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  \n  const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, downloads, comments}) => `\n    <a href=\"${largeImageURL}\" class=\"gallery_item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n\n<ul class=\"stats-container\">\n  <li class=\"stat-item\">\n    <span>Likes</span>\n    <span>${likes}</span>\n  </li>\n  <li class=\"stat-item\">\n    <span>Views</span>\n    <span>${views}</span>\n  </li>\n  <li class=\"stat-item\">\n    <span>Comments</span>\n    <span>${comments}</span>\n  </li>\n  <li class=\"stat-item\">\n    <span>Downloads</span>\n    <span>${downloads}</span>\n  </li>\n</ul>\n    </a>\n  `).join('');\n\n  galleryContainer.innerHTML = markup;\n\n  if (!lightboxInstance) {\n    lightboxInstance = new SimpleLightbox('.gallery a');\n  } else {\n    lightboxInstance.refresh();\n  }}\n\n  export function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n}\n\nexport function showLoader(){\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('is-not-active');\n  } else {\n    console.warn('Loader element not found');\n  }\n}\n\nexport function hideLoader(){\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('is-not-active');\n  } else {\n    console.warn('Loader element not found in hideLoader');\n  }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport './css/styles.css';\nimport './css/gallery.css';\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { showLoader } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form')\nconst searchText = document.querySelector('[name=\"search-text\"]')\n\nform.addEventListener('submit', (e)=>{\n    e.preventDefault();\n    console.log(searchText.value)\n if(searchText.value.trim() === ''){\n          iziToast.error({\n                message: 'enter text, please!',\n            })  \n          return\n        }\n    clearGallery()\n    showLoader()\n    getImagesByQuery(searchText.value.trim()).then(images => {\n        if (images.length === 0){\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            }) \n            \n        }\n        \n        createGallery(images)\n    })\n    .catch(err =>{\n      iziToast.error({\n        message: 'Please try again later'\n      })\n    })\n    .finally(()=>{\n      hideLoader()\n    })\n})"],"names":["axiosInstance","axios","getImagesByQuery","query","response","lightboxInstance","createGallery","images","galleryContainer","markup","webformatURL","largeImageURL","tags","likes","views","downloads","comments","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","searchText","e","iziToast","err"],"mappings":"+vBAEA,MAAMA,EAAgBC,EAAM,OAAO,CACjC,QAAS,2BACT,OAAQ,CACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACH,CAAC,EAEM,SAASC,EAAiBC,EAAM,CAEnC,OAAOH,EAAc,IAAI,GAAI,CACzB,OAAQ,CAAC,EAAGG,CAAK,CACpB,CAAA,EAAE,KAAKC,GAAYA,EAAS,KAAK,IAAI,CAC1C,CCfA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,UAAAC,EAAW,SAAAC,CAAQ,IAAM;AAAA,eAC1FL,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAKhCC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILE,CAAQ;AAAA;AAAA;AAAA;AAAA,YAIRD,CAAS;AAAA;AAAA;AAAA;AAAA,GAIlB,EAAE,KAAK,EAAE,EAEVP,EAAiB,UAAYC,EAExBJ,EAGHA,EAAiB,QAAO,EAFxBA,EAAmB,IAAIY,EAAe,YAAY,CAGnD,CAEM,SAASC,GAAe,CAC/B,MAAMV,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CAEO,SAASW,GAAY,CAC1B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,OAAO,eAAe,EAEvC,QAAQ,KAAK,0BAA0B,CAE3C,CAEO,SAASC,GAAY,CAC1B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,IAAI,eAAe,EAEpC,QAAQ,KAAK,wCAAwC,CAEzD,CC9CA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,sBAAsB,EAEhED,EAAK,iBAAiB,SAAWE,GAAI,CAGpC,GAFGA,EAAE,eAAc,EAChB,QAAQ,IAAID,EAAW,KAAK,EAC5BA,EAAW,MAAM,KAAI,IAAO,GAAG,CACzBE,EAAS,MAAM,CACT,QAAS,qBACzB,CAAa,EACH,MACD,CACLP,EAAc,EACdC,EAAY,EACZjB,EAAiBqB,EAAW,MAAM,KAAI,CAAE,EAAE,KAAKhB,GAAU,CACjDA,EAAO,SAAW,GAClBkB,EAAS,MAAM,CACX,QAAS,0EACzB,CAAa,EAILnB,EAAcC,CAAM,CAC5B,CAAK,EACA,MAAMmB,GAAM,CACXD,EAAS,MAAM,CACb,QAAS,wBACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAI,CACXJ,EAAY,CAClB,CAAK,CACL,CAAC"}